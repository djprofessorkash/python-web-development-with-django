{% extends 'base.html' %}

{% block content %}
<h1>{{ page_title }}</h1>

{% load static %}

<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Library Catalog</title>
        <style>
            body { font-family: Arial, sans-serif; margin: 2rem; background: #f5f5f5; }
            h1 { color: #2c3e50; }
            table { width: 100%; border-collapse: collapse; margin-top: 1rem; background: white; }
            th, td { padding: 0.5rem 1rem; border-bottom: 1px solid #ddd; }
            th { background: #ecf0f1; text-align: left; }
        </style>
    </head>

    <h1>ðŸ“š Library Catalog</h1>

    <body>
        <table>
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Author</th>
                    <th>Year</th>
                    <th>Genres</th>
                    <th>ISBN</th>
                </tr>
            </thead>
            <tbody>
                {% for book in books %}
                    <tr>
                        <td>{{ book.title }}</td>
                        <td>{{ book.author.first_name }} {{ book.author.last_name }}</td>
                        <td>{{ book.publication_year }}</td>
                        <td>
                            {% for g in book.genre.all %}
                                {{ g.name }}{% if not forloop.last %}, {% endif %}
                            {% endfor %}
                        </td>
                        <td>{{ book.isbn }}</td>
                    </tr>
                {% empty %}
                    <tr><td colspan="5">No books in the catalog.</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </body>
</html> 

{% endblock %}

{% comment %} <!DOCTYPE html>
{% endcomment %}